<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Select Date and Time</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        .availability-end-time{-->

<!--        padding-left:20px;-->

<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <div class="col-md-6">-->
<!--            <h2 class="text-center mb-4">Schedule the Meet</h2>-->
<!--            <form action="/event/schedule-meetings" method="get">-->
<!--                <div class="calendar-container">-->
<!--                    <input type="date" name="selectedDate"  th:value="${selectedDate}" id="calendar" class="form-control mb-4">-->
<!--                </div>-->
<!--                <div class="time-container">-->
<!--                    <label for="time" class="form-label" >Select Time:</label>-->
<!--                    <select id="time" name="selectedTime" class="form-select mb-4" th:value="${selectedTime}">-->
<!--                        <option value="09:00">9:00  am</option>-->
<!--                        <option value="09:30">9:30  am</option>-->
<!--                        <option value="10:00">10:00 am</option>-->
<!--                        <option value="10:30">10:30 am</option>-->
<!--                        <option value="10:30">11:00 am</option>-->
<!--                        <option value="10:30">11:30 am</option>-->
<!--                        <option value="10:30">12:00 am</option>-->
<!--                        <option value="10:30">12:30 pm</option>-->
<!--                        <option value="10:30">01:00 pm</option>-->
<!--                        <option value="10:30">01:30 pm</option>-->
<!--                        <option value="10:30">02:00 pm</option>-->
<!--                        <option value="10:30">02:30 pm</option>-->
<!--                        <option value="10:30">03:00 pm</option>-->
<!--                        <option value="10:30">03:30 pm</option>-->
<!--                        <option value="10:30">04:00 pm</option>-->
<!--                    </select>-->
<!--                    <input type="hidden" name="eventId" th:value="${eventId}">-->
<!--                    <button type="submit" class="btn btn-primary">Schedule Event</button><br>-->
<!--                </div>-->
<!--            </form>-->

<!--            <label class="label-availability">Availability of Host:</label><br>-->
<!--            <div class="availability-options" th:object="${event}">-->
<!--                <div class="availability-option" th:each="availability, dayIndex : ${event.availableHoursByDays}">-->
<!--                    <div th:if="${availability.event.id} == ${event.id}">-->
<!--                        <label th:text="${availability.day}" class="availability-label"></label><br>-->
<!--                        <span th:text="${availability.startTime}" class="availability-start-time"></span>-->
<!--                        <span th:text="${availability.endTime}" class="availability-end-time"></span>-->
<!--                    </div><br>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->




<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Select Date and Time</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        /* Add your custom CSS styles here */-->
<!--        .calendar-container {-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: space-between;-->
<!--            margin-bottom: 1rem;-->
<!--        }-->

<!--        .calendar-box {-->
<!--            border: 1px solid #ccc;-->
<!--            width: 100px;-->
<!--            text-align: center;-->
<!--            padding: 5px;-->
<!--            cursor: pointer;-->
<!--        }-->

<!--        .calendar-box.active {-->
<!--            background-color: #007bff;-->
<!--            color: #fff;-->
<!--        }-->
<!--        .availability-end-time{-->
<!--            padding-left:20px;-->
<!--        }-->
<!--    </style>-->

<!--</head>-->
<!--<body>-->
<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <div class="col-md-6">-->
<!--            <h2 class="text-center mb-4">Schedule the Meet</h2>-->
<!--            &lt;!&ndash; Year Navigation &ndash;&gt;-->
<!--            <div class="calendar-container">-->
<!--                <button id="prevYearButton" class="btn btn-secondary">&lt;</button>-->
<!--                <div id="yearContainer" class="d-flex align-items-center"></div>-->
<!--                <button id="nextYearButton" class="btn btn-secondary">&gt;</button>-->
<!--            </div>-->
<!--            &lt;!&ndash; Month Navigation &ndash;&gt;-->
<!--            <div class="calendar-container">-->
<!--                <button id="prevMonthButton" class="btn btn-secondary">&lt;</button>-->
<!--                <div id="monthContainer" class="d-flex align-items-center"></div>-->
<!--                <button id="nextMonthButton" class="btn btn-secondary">&gt;</button>-->
<!--            </div>-->

<!--            <div class="calendar-container">-->
<!--                <button id="prevDatesButton" class="btn btn-secondary">&lt;</button>-->
<!--                <div id="calendarContainer" class="calendar-container"></div>-->
<!--                <button id="nextDatesButton" class="btn btn-secondary">&gt;</button>-->
<!--            </div>-->

<!--            <div class="time-container">-->
<!--                <label for="time" class="form-label" >Select Time:</label>-->
<!--                <select id="time" name="selectedTime" class="form-select mb-4" th:value="${selectedTime}">-->
<!--                    <option value="09:00">9:00  am</option>-->
<!--                    <option value="09:30">9:30  am</option>-->
<!--                    <option value="10:00">10:00 am</option>-->
<!--                    <option value="10:30">10:30 am</option>-->
<!--                    <option value="10:30">11:00 am</option>-->
<!--                    <option value="10:30">11:30 am</option>-->
<!--                    <option value="10:30">12:00 am</option>-->
<!--                    <option value="10:30">12:30 pm</option>-->
<!--                    <option value="10:30">01:00 pm</option>-->
<!--                    <option value="10:30">01:30 pm</option>-->
<!--                    <option value="10:30">02:00 pm</option>-->
<!--                    <option value="10:30">02:30 pm</option>-->
<!--                    <option value="10:30">03:00 pm</option>-->
<!--                    <option value="10:30">03:30 pm</option>-->
<!--                    <option value="10:30">04:00 pm</option>-->
<!--                </select>-->
<!--                <input type="hidden" name="eventId" th:value="${eventId}">-->

<!--            </div>-->


<!--            <label class="label-availability">Availability of Host:</label><br>-->
<!--            <div class="availability-options" th:object="${event}">-->
<!--                <div class="availability-option" th:each="availability, dayIndex : ${event.availableHoursByDays}">-->
<!--                    <div th:if="${availability.event.id} == ${event.id}">-->
<!--                        <label th:text="${availability.day}" class="availability-label"></label><br>-->
<!--                        <span th:text="${availability.startTime}" class="availability-start-time"></span>-->
<!--                        <span th:text="${availability.endTime}" class="availability-end-time"></span>-->
<!--                    </div><br>-->
<!--                </div>-->
<!--            </div>-->

<!--        </div>-->
<!--    </div>-->
<!--    <button id="scheduleEventButton" class="btn btn-primary">Schedule Event</button><br>-->
<!--</div>-->

<!--<script>-->
<!--    // JavaScript logic for year navigation-->
<!--    const yearContainer = document.getElementById('yearContainer');-->
<!--    const prevYearButton = document.getElementById('prevYearButton');-->
<!--    const nextYearButton = document.getElementById('nextYearButton');-->
<!--    let currentDate = new Date();-->

<!--    function updateYear() {-->
<!--        yearContainer.textContent = currentDate.getFullYear();-->
<!--    }-->

<!--    prevYearButton.addEventListener('click', () => {-->
<!--        currentDate.setFullYear(currentDate.getFullYear() - 1);-->
<!--        updateYear();-->
<!--        updateCalendar();-->
<!--    });-->

<!--    nextYearButton.addEventListener('click', () => {-->
<!--        currentDate.setFullYear(currentDate.getFullYear() + 1);-->
<!--        updateYear();-->
<!--        updateCalendar();-->
<!--    });-->

<!--    // Initial year update-->
<!--    updateYear();-->

<!--    // JavaScript logic for month navigation-->
<!--    const monthContainer = document.getElementById('monthContainer');-->
<!--    const prevMonthButton = document.getElementById('prevMonthButton');-->
<!--    const nextMonthButton = document.getElementById('nextMonthButton');-->

<!--    function updateMonth() {-->
<!--        const options = { month: 'long' };-->
<!--        monthContainer.textContent = currentDate.toLocaleDateString('en-US', options);-->
<!--    }-->

<!--    prevMonthButton.addEventListener('click', () => {-->
<!--        currentDate.setMonth(currentDate.getMonth() - 1);-->
<!--        updateMonth();-->
<!--        updateCalendar();-->
<!--    });-->

<!--    nextMonthButton.addEventListener('click', () => {-->
<!--        currentDate.setMonth(currentDate.getMonth() + 1);-->
<!--        updateMonth();-->
<!--        updateCalendar();-->
<!--    });-->

<!--    // Initial month update-->
<!--    updateMonth();-->

<!--    // JavaScript logic for calendar navigation-->
<!--    const calendarContainer = document.getElementById('calendarContainer');-->
<!--    const prevDatesButton = document.getElementById('prevDatesButton');-->
<!--    const nextDatesButton = document.getElementById('nextDatesButton');-->
<!--    let startDay = 1;-->
<!--    let endDay = 5;-->
<!--    let selectedDate = null;-->

<!--    function updateCalendar() {-->
<!--        calendarContainer.innerHTML = '';-->

<!--        const firstDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);-->
<!--        const lastDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);-->
<!--        const daysInMonth = lastDayOfMonth.getDate();-->

<!--        for (let day = startDay; day <= endDay; day++) {-->
<!--            if (day > daysInMonth) break;-->
<!--            const dayBox = document.createElement('div');-->
<!--            dayBox.classList.add('calendar-box');-->
<!--            const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);-->
<!--            dayBox.textContent = date.toLocaleDateString('en-US', { weekday: 'short' }) + '\n' + date.getDate();-->
<!--            dayBox.addEventListener('click', () => {-->
<!--                selectedDate = date;-->
<!--                dayBox.classList.toggle('active');-->
<!--            });-->
<!--            calendarContainer.appendChild(dayBox);-->
<!--        }-->
<!--    }-->

<!--    updateCalendar();-->

<!--    prevDatesButton.addEventListener('click', () => {-->
<!--        if (startDay > 1) {-->
<!--            startDay -= 5;-->
<!--            endDay -= 5;-->
<!--            updateCalendar();-->
<!--        }-->
<!--    });-->

<!--    nextDatesButton.addEventListener('click', () => {-->
<!--        const lastDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);-->
<!--        const daysInMonth = lastDayOfMonth.getDate();-->
<!--        if (endDay < daysInMonth) {-->
<!--            startDay += 5;-->
<!--            endDay += 5;-->
<!--            updateCalendar();-->
<!--        }-->
<!--    });-->

<!--    // Function to send selected date to controller method-->
<!--    const scheduleEventButton = document.getElementById('scheduleEventButton');-->
<!--    scheduleEventButton.addEventListener('click', () => {-->
<!--        if (selectedDate) {-->
<!--            const year = selectedDate.getFullYear();-->
<!--            const month = selectedDate.toLocaleString('default', { month: 'long' });-->
<!--            const day = selectedDate.getDate();-->
<!--            // Assuming you are using AJAX to send data to the controller method-->
<!--            const data = { year, month, day };-->
<!--            // Example AJAX request-->
<!--            // Replace 'url' with the actual endpoint URL-->
<!--            fetch('url', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json',-->
<!--                },-->
<!--                body: JSON.stringify(data),-->
<!--            }).then(response => {-->
<!--                // Handle response here-->
<!--                console.log('Event scheduled successfully');-->
<!--            }).catch(error => {-->
<!--                // Handle error here-->
<!--                console.error('Error scheduling event:', error);-->
<!--            });-->
<!--        } else {-->
<!--            console.log('Please select a date before scheduling the event');-->
<!--        }-->
<!--    });-->

<!--</script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Select Date and Time</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Add your custom CSS styles here */
        .calendar-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .calendar-box {
            border: 1px solid #ccc;
            width: 100px;
            text-align: center;
            padding: 5px;
            cursor: pointer;
        }

        .calendar-box.active {
            background-color: #007bff;
            color: #fff;
        }
        .availability-end-time{
            padding-left:20px;
        }
    </style>

</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h2 class="text-center mb-4">Schedule the Meet</h2>
            <!-- Year Navigation -->
            <div class="calendar-container">
                <button id="prevYearButton" class="btn btn-secondary">&lt;</button>
                <div id="yearContainer" class="d-flex align-items-center"></div>
                <button id="nextYearButton" class="btn btn-secondary">&gt;</button>
            </div>
            <!-- Month Navigation -->
            <div class="calendar-container">
                <button id="prevMonthButton" class="btn btn-secondary">&lt;</button>
                <div id="monthContainer" class="d-flex align-items-center"></div>
                <button id="nextMonthButton" class="btn btn-secondary">&gt;</button>
            </div>

            <div class="calendar-container">
                <button id="prevDatesButton" class="btn btn-secondary">&lt;</button>
                <div id="calendarContainer" class="calendar-container"></div>
                <button id="nextDatesButton" class="btn btn-secondary">&gt;</button>
            </div>

            <div class="time-container">
                <label for="time" class="form-label" >Select Time:</label>
                <select id="time" name="selectedTime" class="form-select mb-4" th:value="${selectedTime}">
                    <option value="09:00">9:00  am</option>
                    <option value="09:30">9:30  am</option>
                    <option value="10:00">10:00 am</option>
                    <option value="10:30">10:30 am</option>
                    <option value="10:30">11:00 am</option>
                    <option value="10:30">11:30 am</option>
                    <option value="10:30">12:00 am</option>
                    <option value="10:30">12:30 pm</option>
                    <option value="10:30">01:00 pm</option>
                    <option value="10:30">01:30 pm</option>
                    <option value="10:30">02:00 pm</option>
                    <option value="10:30">02:30 pm</option>
                    <option value="10:30">03:00 pm</option>
                    <option value="10:30">03:30 pm</option>
                    <option value="10:30">04:00 pm</option>
                </select>
                <input type="hidden" name="eventId" th:value="${eventId}">

            </div>


            <label class="label-availability">Availability of Host:</label><br>
            <div class="availability-options" th:object="${event}">
                <div class="availability-option" th:each="availability, dayIndex : ${event.availableHoursByDays}">
                    <div th:if="${availability.event.id} == ${event.id}">
                        <label th:text="${availability.day}" class="availability-label"></label><br>
                        <span th:text="${availability.startTime}" class="availability-start-time"></span>
                        <span th:text="${availability.endTime}" class="availability-end-time"></span>
                    </div><br>
                </div>
            </div>

        </div>
    </div>
    <button id="scheduleEventButton" class="btn btn-primary">Schedule Event</button><br>
</div>

<script>
    // JavaScript logic for year navigation
    const yearContainer = document.getElementById('yearContainer');
    const prevYearButton = document.getElementById('prevYearButton');
    const nextYearButton = document.getElementById('nextYearButton');
    let currentDate = new Date();

    function updateYear() {
        yearContainer.textContent = currentDate.getFullYear();
    }

    prevYearButton.addEventListener('click', () => {
        currentDate.setFullYear(currentDate.getFullYear() - 1);
        updateYear();
        updateCalendar();
    });

    nextYearButton.addEventListener('click', () => {
        currentDate.setFullYear(currentDate.getFullYear() + 1);
        updateYear();
        updateCalendar();
    });

    // Initial year update
    updateYear();

    // JavaScript logic for month navigation
    const monthContainer = document.getElementById('monthContainer');
    const prevMonthButton = document.getElementById('prevMonthButton');
    const nextMonthButton = document.getElementById('nextMonthButton');

    function updateMonth() {
        const options = { month: 'long' };
        monthContainer.textContent = currentDate.toLocaleDateString('en-US', options);
    }

    prevMonthButton.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        updateMonth();
        updateCalendar();
    });

    nextMonthButton.addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        updateMonth();
        updateCalendar();
    });

    // Initial month update
    updateMonth();

    // JavaScript logic for calendar navigation
    const calendarContainer = document.getElementById('calendarContainer');
    const prevDatesButton = document.getElementById('prevDatesButton');
    const nextDatesButton = document.getElementById('nextDatesButton');
    let startDay = 1;
    let endDay = 5;
    let selectedDate = null;

    function updateCalendar() {
        calendarContainer.innerHTML = '';

        const firstDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
        const lastDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
        const daysInMonth = lastDayOfMonth.getDate();

        for (let day = startDay; day <= endDay; day++) {
            if (day > daysInMonth) break;
            const dayBox = document.createElement('div');
            dayBox.classList.add('calendar-box');
            const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
            dayBox.textContent = date.toLocaleDateString('en-US', { weekday: 'short' }) + '\n' + date.getDate();
            dayBox.addEventListener('click', () => {
                selectedDate = date;
                dayBox.classList.toggle('active');
            });
            calendarContainer.appendChild(dayBox);
        }
    }

    updateCalendar();

    prevDatesButton.addEventListener('click', () => {
        if (startDay > 1) {
            startDay -= 5;
            endDay -= 5;
            updateCalendar();
        }
    });

    nextDatesButton.addEventListener('click', () => {
        const lastDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
        const daysInMonth = lastDayOfMonth.getDate();
        if (endDay < daysInMonth) {
            startDay += 5;
            endDay += 5;
            updateCalendar();
        }
    });

    // Function to send selected date to controller method
    const scheduleEventButton = document.getElementById('scheduleEventButton');
    scheduleEventButton.addEventListener('click', () => {
        if (selectedDate) {
            const year = selectedDate.getFullYear();
            const month = selectedDate.toLocaleString('default', { month: 'long' });
            const day = selectedDate.getDate();
            const eventId = document.querySelector('input[name="eventId"]').value; // Get eventId from hidden input
            const selectedTime = document.getElementById('time').value; // Get selectedTime from dropdown
            // Assuming you are using AJAX to send data to the controller method
            fetch(`/event/schedule-meetings?eventId=${eventId}&selectedTime=${selectedTime}&year=${year}&month=${month}&day=${day}`)
                .then(response => {
                    // Handle response here
                    console.log('Meeting scheduled successfully');
                    window.location.href = response.url; // Redirect to meeting-details page
                })
                .catch(error => {
                    // Handle error here
                    console.error('Error scheduling meeting:', error);
                });
        } else {
            console.log('Please select a date before scheduling the meeting');
        }
    });
</script>
</body>
</html>
